<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>PropertyBasedEmbedderControls.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Jbehave-core</a> &gt; <a href="index.source.html" class="el_package">org.jbehave.core.embedder</a> &gt; <span class="el_source">PropertyBasedEmbedderControls.java</span></div><h1>PropertyBasedEmbedderControls.java</h1><pre class="source lang-java linenums">package org.jbehave.core.embedder;

import org.apache.commons.lang.builder.ToStringBuilder;
import org.apache.commons.lang.builder.ToStringStyle;
import org.jbehave.core.steps.ParameterConverters;

<span class="fc" id="L7">public class PropertyBasedEmbedderControls extends EmbedderControls {</span>

    public static final String BATCH = &quot;BATCH&quot;;
    public static final String IGNORE_FAILURE_IN_VIEW = &quot;IGNORE_FAILURE_IN_VIEW&quot;;
    public static final String IGNORE_FAILURE_IN_STORIES = &quot;IGNORE_FAILURE_IN_STORIES&quot;;
    public static final String GENERATE_VIEW_AFTER_STORIES = &quot;GENERATE_VIEW_AFTER_STORIES&quot;;
    public static final String SKIP = &quot;SKIP&quot;;
    public static final String VERBOSE_FAILURES = &quot;VERBOSE_FAILURES&quot;;
    public static final String VERBOSE_FILTERING = &quot;VERBOSE_FILTERING&quot;;
    public static final String STORY_TIMEOUT_IN_SECS = &quot;STORY_TIMEOUT_IN_SECS&quot;;
    public static final String THREADS = &quot;THREADS&quot;;

<span class="fc" id="L19">    private ParameterConverters converters = new ParameterConverters();</span>

    @Override
    public boolean batch() {
<span class="fc" id="L23">        return propertyAs(BATCH, Boolean.class, super.batch());</span>
    }

    @Override
    public boolean ignoreFailureInView() {
<span class="fc" id="L28">        return propertyAs(IGNORE_FAILURE_IN_VIEW, Boolean.class, super.ignoreFailureInView()); </span>
    }

    @Override
    public boolean ignoreFailureInStories() {
<span class="fc" id="L33">        return propertyAs(IGNORE_FAILURE_IN_STORIES, Boolean.class, super.ignoreFailureInStories()); </span>
    }

    @Override
    public boolean generateViewAfterStories() {
<span class="fc" id="L38">        return propertyAs(GENERATE_VIEW_AFTER_STORIES, Boolean.class, super.generateViewAfterStories()); </span>
    }

    @Override
    public boolean skip() {
<span class="fc" id="L43">        return propertyAs(SKIP, Boolean.class, super.skip()); </span>
    }
    
    @Override
    public boolean verboseFailures() {
<span class="fc" id="L48">        return propertyAs(VERBOSE_FAILURES, Boolean.class, super.verboseFailures()); </span>
    }

    @Override
    public boolean verboseFiltering() {
<span class="fc" id="L53">        return propertyAs(VERBOSE_FILTERING, Boolean.class, super.verboseFiltering()); </span>
    }
    
    @Override
    public long storyTimeoutInSecs() {
<span class="fc" id="L58">        return propertyAs(STORY_TIMEOUT_IN_SECS, Long.class, super.storyTimeoutInSecs()); </span>
    }

    @Override
    public int threads() {
<span class="fc" id="L63">        return propertyAs(THREADS, Integer.class, super.threads()); </span>
    }
   
    @SuppressWarnings(&quot;unchecked&quot;)
    private &lt;T&gt; T propertyAs(String name, Class&lt;T&gt; type, T defaultValue) {
<span class="fc" id="L68">        String property = System.getProperty(name);</span>
<span class="fc bfc" id="L69" title="All 2 branches covered.">        if ( property == null ){</span>
<span class="fc" id="L70">            return defaultValue;</span>
        }
<span class="fc" id="L72">        return (T) converters.convert(property, type);</span>
    }

    @Override
    public String toString() {
<span class="fc" id="L77">        return ToStringBuilder.reflectionToString(this, ToStringStyle.SHORT_PREFIX_STYLE);</span>
    }
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.0.201403182114</span></div></body></html>